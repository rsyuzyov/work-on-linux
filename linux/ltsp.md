# Развертывание LTSP
Linux Terminal Server Project - это решение для создания образов ОС для бездисковых рабочих мест.  

На первом этапе после включения ПК выполняется загрузка pxelinux (что-то типа минимальной загрузочной дискетки) в память из образа на сервере.  
Загрузку можно организовывать с помощью любого tftp-сервера, например tftpd-hpa.  
Далее, в зависимости от типа клиента либо подключается профиль пользователя через NBD (network block device) или NFS (режим толстого клиента), либо сразу открывается терминальная сессия на сервере (режим тонкого клиента).  

[Официальный сайт](ltsp.org)  
[Статья на хабре](https://habr.com/post/277783/)  
[Еще статья](http://tdkare.ru/sysadmin/index.php/%D0%A1%D0%B5%D1%80%D0%B2%D0%B5%D1%80_%D1%82%D0%B5%D1%80%D0%BC%D0%B8%D0%BD%D0%B0%D0%BB%D0%BE%D0%B2_LTSP#.D0.9D.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0_tftp-.D1.81.D0.B5.D1.80.D0.B2.D0.B5.D1.80.D0.B0)  
Смежный проект для мониторинга и управления тонкими клиентами, хорошо дополняющий ltsp: [epoptes](http://www.epoptes.org/)  
При чтении статей держим в уме, что сейчас вместо NFS по-умолчанию используется NBD, поэтому и настраивать NFS-сервер не нужно.

**Важно! На debian stretch есть проблемы с загрузкой образа в память! Сам два дня убил...**  
Сервер разворачиваем на ОС, котоую планируем использовать для загрузки на рабочих местах.  

На сервере:  
```
su
apt install tftp-hpa tftpd-hpa ltsp-server-standalone
ltsp-build-client
```

В dhcp прописать параметры:  
```
017: /opt/ltsp/amd64
066: имя сервера ltsp
067: ltsp/amd64/pxelinux.0
```

На клиентском ПК включить загрузку по сети.

Если для тестирования планируется использовать виртуальную машину на hyper-v, то необходимо создавать машину первого поколения и использовать устаревшую сетевую карту (legacy) - со "стандартной" pxe не работает!
